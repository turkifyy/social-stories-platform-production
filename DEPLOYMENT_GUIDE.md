# دليل نشر المنصة الاحترافي على GitHub و Render (الخطة المجانية)

بما أنك تستخدم جهاز تابلت، سنعتمد بالكامل على الأدوات المدمجة في المنصة للقيام بالعمليات التقنية بضغطة زر واحدة. هذا الدليل تم تحديثه لضمان أعلى مستويات الدقة والموثوقية.

## الخطوة 1: إنشاء المستودع على GitHub (بدون سحب وإسقاط)

لقد قمنا بإعداد أداة خاصة داخل المنصة تقوم برفع جميع الملفات بدلاً عنك.
1. توجه إلى لوحة الإدارة في تطبيقك.
2. ابحث عن قسم **GitHub Integration**.
3. أدخل **GitHub Personal Access Token** الخاص بك (تأكد من تفعيل صلاحيات `repo` و `workflow`).
4. أدخل اسماً للمستودع (مثلاً: `social-stories-platform`).
5. اضغط على زر **Setup Repository**.
   - *ماذا سيحدث؟* سيقوم النظام تلقائياً بإنشاء مستودع خاص، ورفع كافة الملفات (بما في ذلك المجلدات المعاد تسميتها `.git857` و `logs327`)، وإعداد نظام الجدولة.
   - **التحقق:** ستظهر لك رسالة "Success" مع رابط المستودع عند الانتهاء.

## الخطوة 2: إعدادات GitHub الأساسية

بعد انتهاء عملية الرفع التلقائي، تأكد من الآتي في حسابك على GitHub:
1. اذهب إلى المستودع الذي تم إنشاؤه.
2. انتقل إلى **Settings** > **Secrets and Variables** > **Actions**.
3. **تحقق من وجود المفاتيح التالية:** (تمت إضافتها تلقائياً، ولكن يرجى التأكد من قيمتها):
   - `APP_URL`: رابط تطبيقك النهائي على Render (مثال: `https://app-name.onrender.com`).
   - `CRON_SECRET_KEY`: مفتاح الأمان للمجدول (يجب أن يطابق الموجود في إعدادات المنصة).

## الخطوة 3: الربط مع Render (الإصدار المجاني)

بما أن المنصة تعتمد على Node.js، اتبع الخطوات التالية من متصفح التابلت:
1. سجل الدخول إلى [Render.com](https://render.com).
2. اضغط على **New** > **Web Service**.
3. اختر **Connect GitHub** وقم بتفويض Render للوصول إلى المستودع الذي أنشأناه.
4. اختر المستودع `social-stories-platform`.
5. قم بضبط الإعدادات التالية:
   - **Name:** `social-stories-app`
   - **Region:** اختر الأقرب إليك (مثلاً Frankfurt).
   - **Branch:** `main`
   - **Runtime:** `Node`
   - **Build Command:** `npm run build`
   - **Start Command:** `npm start`
   - **Instance Type:** `Free`

## الخطوة 4: ضبط البيئة (Environment Variables) في Render

هذه أهم خطوة لضمان عمل قاعدة البيانات والذكاء الاصطناعي. في لوحة تحكم Render، اذهب إلى قسم **Environment** وأضف المتغيرات التالية:
- `DATABASE_URL`: رابط قاعدة بيانات Postgres.
- `FIREBASE_SERVICE_ACCOUNT`: محتوى ملف JSON الخاص بـ Firebase.
- `VITE_FIREBASE_API_KEY`: مفتاح API الخاص بـ Firebase.
- `VITE_FIREBASE_PROJECT_ID`: معرف مشروع Firebase.
- `OPENAI_API_KEY`: مفتاح OpenAI.
- `CRON_SECRET_KEY`: نفس المفتاح المستخدم في GitHub.

## الخطوة 5: تفعيل المجدول (GitHub Actions)

بمجرد الحصول على رابط التطبيق من Render:
1. ارجع إلى GitHub المستودع.
2. اذهب إلى **Actions** وقم بتفعيل الـ Workflows بالضغط على **Enable Actions**.
3. **التحقق اليدوي:** يمكنك تشغيل المجدول يدوياً بالضغط على `Scheduled Story Publisher` ثم `Run workflow` للتأكد من أن كل شيء يعمل.

---
**نصيحة لمستخدمي التابلت:** إذا واجهت صعوبة في نسخ النصوص الكبيرة (مثل ملف Firebase)، استخدم وضع "العرض المكتبي" (Desktop Site) في متصفحك لتسهيل عملية النسخ واللصق. قمنا بإعادة تسمية المجلدات الحساسة لضمان قبول GitHub لها دون أخطاء.